// Generated by CoffeeScript 1.10.0
var CompressImg, Home, fs;

CompressImg = require('../classes/compress_img');

fs = require('fs');

Home = (function() {
  function Home() {
    this.compress = new CompressImg;
  }

  Home.prototype.post = function(req, res) {
    res.writeHead(200);
    return fs.readFile(req.files.files.path, function(err, data) {
      var newPath;
      console.log(data);
      if (err) {
        res.status(500).send(err);
      } else {
        res.send('File uploaded!');
      }
      newPath = __dirname + "/uploads/uploadedFileName";
      return fs.writeFile(newPath, data, function(err) {
        return res.end();
      });
    });
  };

  return Home;

})();

module.exports = Home;
